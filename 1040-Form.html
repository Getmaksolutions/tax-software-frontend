<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IRS Form 1040 </title>
    <!--begin::Head-->


    <title>Metronic - The World's #1 Selling Tailwind CSS & Bootstrap Admin Template by KeenThemes</title>
    <meta charset="utf-8" />
    <meta name="description"
        content="The most advanced Tailwind CSS & Bootstrap 5 Admin Theme with 40 unique prebuilt layouts on Themeforest trusted by 100,000 beginners and professionals. Multi-demo, Dark Mode, RTL support and complete React, Angular, Vue, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js, Node.js, Flask, Symfony & Laravel versions. Grab your copy now and get life-time updates for free." />
    <meta name="keywords"
        content="tailwind, tailwindcss, metronic, bootstrap, bootstrap 5, angular, VueJs, React, Asp.Net Core, Rails, Spring, Blazor, Django, Express.js, Node.js, Flask, Symfony & Laravel starter kits, admin themes, web design, figma, web development, free templates, free admin themes, bootstrap theme, bootstrap template, bootstrap dashboard, bootstrap dak mode, bootstrap button, bootstrap datepicker, bootstrap timepicker, fullcalendar, datatables, flaticon" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title"
        content="Metronic - The World's #1 Selling Tailwind CSS & Bootstrap Admin Template by KeenThemes" />
    <meta property="og:url" content="https://keenthemes.com/metronic" />
    <meta property="og:site_name" content="Metronic by Keenthemes" />
    <link rel="canonical" href="http://preview.keenthemes.comindex.html" />
    <link rel="shortcut icon" href="assets/media/logos/favicon.ico" />
    <!--begin::Fonts(mandatory for all pages)-->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700" />
    <!--end::Fonts-->
    <!--begin::Vendor Stylesheets(used for this page only)-->
    <link href="assets/plugins/custom/fullcalendar/fullcalendar.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/plugins/custom/datatables/datatables.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Vendor Stylesheets-->
    <!--begin::Global Stylesheets Bundle(mandatory for all pages)-->
    <link href="assets/plugins/global/plugins.bundle.css" rel="stylesheet" type="text/css" />
    <link href="assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
    <!--end::Global Stylesheets Bundle-->
    <script>// Frame-busting to prevent site from being loaded within a frame without permission (click-jacking) if (window.top != window.self) { window.top.location.replace(window.self.location.href); }</script>

    <style>
        html,
        body {
            scrollbar-gutter: stable;
        }


        /* Ensure each new backdrop stacks correctly */
        .modal-backdrop {
            transition: opacity 0.15s linear;
        }

        .modal-backdrop.show {
            opacity: 0.5;
            /* consistent dim */
        }

        /* Prevent flicker: keep body scroll hidden when multiple modals */
        body.modal-open {
            overflow: hidden;
            padding-right: 0 !important;
            /* prevent scrollbar jump */
        }

        /* Optional: make stacked modals slide slightly to indicate layering */
        .modal.stacked {
            transform: translateY(10px);
        }

        .form-label-container {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .form-label-container i {
            flex-shrink: 0;
            cursor: pointer;
            color: #0d6efd;
        }

        .modal-body {
            max-height: 70vh;
            /* Modal body takes up 70% of viewport height */
            overflow-y: auto;
            /* Enable vertical scroll */
        }

        @media (max-width: 998px) {
            .modal-dialog {
                max-width: 80% !important;
                /* full width on small devices */
            }
        }

        @media (max-width: 768px) {
            .modal-dialog {
                max-width: 95% !important;
                /* full width on small devices */
            }
        }

        .modal-backdrop.show+.modal-backdrop.show {
            z-index: 1050;
        }

        .modal {
            z-index: 1055;
        }

        .modal.show {
            z-index: 1060;
        }
    </style>
</head>

<body id="kt_body"
    class="header-fixed header-tablet-and-mobile-fixed toolbar-enabled toolbar-fixed aside-enabled aside-fixed">
    <!--begin::Theme mode setup on page load-->
    <script>var defaultThemeMode = "light"; var themeMode; if (document.documentElement) { if (document.documentElement.hasAttribute("data-bs-theme-mode")) { themeMode = document.documentElement.getAttribute("data-bs-theme-mode"); } else { if (localStorage.getItem("data-bs-theme") !== null) { themeMode = localStorage.getItem("data-bs-theme"); } else { themeMode = defaultThemeMode; } } if (themeMode === "system") { themeMode = window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light"; } document.documentElement.setAttribute("data-bs-theme", themeMode); }</script>
    <!--begin::Navbar-->
    <div class="container">
        <div class="mt-4 pt-4"></div>

        <div class="card mb-5 mb-xl-10 shadow-sm">
            <div class="card-body p-4 p-md-6">
                <!-- Details Container -->
                <div class="d-flex flex-wrap flex-sm-nowrap align-items-center">
                    <!-- Taxpayer Icon -->
                    <div class="me-4 mb-3 mb-sm-0 text-center text-sm-start rounded">
                        <img src="assets/media/logos/IRS_Logo.png" alt="Taxpayer Icon" class="img-fluid rounded"
                            style="max-width: 120px; width: 100%; height: auto;">
                    </div>
                    <!-- Info -->
                    <div class="flex-grow-1">
                        <div class="d-flex justify-content-between flex-wrap align-items-start mb-3">
                            <div class="d-flex flex-column">
                                <span class="text-dark fs-2 fw-bold">IRS Form 1040</span>
                                <p class="mb-1 text-muted">Department of the Treasuryâ€”Internal Revenue Service</p>
                                <p class="fw-semibold mb-1">OMB No. 1545-0074</p>
                                <p class="text-primary mb-1">U.S. Individual Income Tax Return</p>
                                <p class="fw-semibold mb-0">Tax Year 2025</p>
                            </div>
                            <!-- Action Buttons -->
                            <div class="d-flex align-items-center mt-3 mt-sm-0">
                                <!-- Theme toggle -->
                                <!--begin::Theme mode-->
                                <div class="d-flex align-items-center ms-1 ms-lg-3">
                                    <!--begin::Menu toggle-->
                                    <a href="#"
                                        class="btn btn-icon btn-active-light-primary w-30px h-30px w-md-40px h-md-40px"
                                        data-kt-menu-trigger="{default:'click', lg: 'hover'}"
                                        data-kt-menu-attach="parent" data-kt-menu-placement="bottom-end">
                                        <i class="ki-outline ki-night-day theme-light-show fs-1"></i>
                                        <i class="ki-outline ki-moon theme-dark-show fs-1"></i>
                                    </a>
                                    <!--begin::Menu toggle-->
                                    <!--begin::Menu-->
                                    <div class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-title-gray-700 menu-icon-gray-500 menu-active-bg menu-state-color fw-semibold py-4 fs-base w-150px"
                                        data-kt-menu="true" data-kt-element="theme-mode-menu">
                                        <!--begin::Menu item-->
                                        <div class="menu-item px-3 my-0">
                                            <a href="#" class="menu-link px-3 py-2" data-kt-element="mode"
                                                data-kt-value="light">
                                                <span class="menu-icon" data-kt-element="icon">
                                                    <i class="ki-outline ki-night-day fs-2"></i>
                                                </span>
                                                <span class="menu-title">Light</span>
                                            </a>
                                        </div>
                                        <!--end::Menu item-->
                                        <!--begin::Menu item-->
                                        <div class="menu-item px-3 my-0">
                                            <a href="#" class="menu-link px-3 py-2" data-kt-element="mode"
                                                data-kt-value="dark">
                                                <span class="menu-icon" data-kt-element="icon">
                                                    <i class="ki-outline ki-moon fs-2"></i>
                                                </span>
                                                <span class="menu-title">Dark</span>
                                            </a>
                                        </div>
                                        <!--end::Menu item-->
                                        <!--begin::Menu item-->
                                        <div class="menu-item px-3 my-0">
                                            <a href="#" class="menu-link px-3 py-2" data-kt-element="mode"
                                                data-kt-value="system">
                                                <span class="menu-icon" data-kt-element="icon">
                                                    <i class="ki-outline ki-screen fs-2"></i>
                                                </span>
                                                <span class="menu-title">System</span>
                                            </a>
                                        </div>
                                        <!--end::Menu item-->
                                    </div>
                                    <!--end::Menu-->
                                </div>
                                <!-- Save & Submit -->
                                <button class="btn btn-outline-secondary me-2">Save Draft</button>
                                <button class="btn btn-primary">Submit Form</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Responsive Styles -->
        <style>
            @media (max-width: 576px) {
                .card-body {
                    padding: 1rem;
                }

                .fs-2 {
                    font-size: 1.5rem !important;
                }

                .btn {
                    font-size: 0.875rem;
                    padding: 0.375rem 0.75rem;
                }

                .d-flex.flex-sm-nowrap {
                    flex-direction: column !important;
                }

                .me-4 {
                    margin-right: 0 !important;
                    margin-bottom: 1rem !important;
                }
            }
        </style>




        <div class="container" id="kt_modal_new_target_form"></div>
        <!-- Personal Information -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <!--begin::Details-->
                <div id="personalInfo" class="form-section">
                    <!--begin::Name-->
                    <div class="align-items-center mb-2 border-bottom mb-4">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Personal Information</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Enter your personal details and address
                            information.
                        </p>
                    </div>
                    <!--end::Name-->

                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtFirstName">
                                    <span>Your first name and middle initial</span>
                                    <!--<span class="ms-1" data-bs-toggle="tooltip" title="Please enter your full name">
                                        <i class="ki-outline ki-information-5 text-gray-500 fs-6"></i>
                                    </span>-->
                                </label>
                                <input type="text" id="txtFirstName" class="form-control form-control-solid"
                                    placeholder="John">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtLastName">
                                    <span>Last Name</span>

                                </label>
                                <input type="text" id="txtLastName" class="form-control form-control-solid"
                                    placeholder="Doe">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtSSN">
                                    <span>Your social security number (SSN)</span>

                                </label>
                                <input type="text" id="txtSSN" class="form-control form-control-solid"
                                    placeholder="123-45-6789">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4 fv-row">
                            <label class="required fs-6 fw-semibold mb-2">Birth Date</label>
                            <div class="position-relative d-flex align-items-center">
                                <!-- <i class="ki-outline ki-calendar-8 fs-2 position-absolute mx-4"></i>-->
                                <input class="form-control form-control-solid" type="date"
                                    placeholder="Select a Birth Date" name="due_date" />
                            </div>
                        </div>


                    </div>

                    <div class="row">
                        <h3 class="h3 fw-semibold mt-3 mb-2">Spouse Information</h3>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtSpouseFirstName">
                                    <span>Spouse's first name and middle initial</span>
                                </label>
                                <input type="text" id="txtSpouseFirstName" class="form-control form-control-solid"
                                    placeholder="Jane">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtSpouseLastName">
                                    <span>Spouse Last Name</span>
                                </label>
                                <input type="text" id="txtSpouseLastName" class="form-control form-control-solid"
                                    placeholder="Doe">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="d-flex align-items-center fs-6 fw-semibold mb-2" for="txtSpouseSSN">
                                    <span>Spouse's social security number (SSN)</span>
                                </label>
                                <input type="text" id="txtSpouseSSN" class="form-control form-control-solid"
                                    placeholder="987654321">
                            </div>
                        </div>
                    </div>

                    <h3 class="h3 fw-semibold mt-3 mb-2">Address</h3>
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtStreet">Street address</label>
                                <input type="text" id="txtStreet" class="form-control form-control-solid"
                                    placeholder="123 Main St">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtAptNo">Apt, suite, unit, or building
                                    no.</label>
                                <input type="text" id="txtAptNo" class="form-control form-control-solid"
                                    placeholder="Apt 4B">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtCity">City</label>
                                <input type="text" id="txtCity" class="form-control form-control-solid"
                                    placeholder="Springfield">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtState">State</label>
                                <input type="text" id="txtState" class="form-control form-control-solid"
                                    placeholder="IL">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtZipCode">Zip Code</label>
                                <input type="text" id="txtZipCode" class="form-control form-control-solid"
                                    placeholder="62704">
                            </div>
                        </div>
                    </div>

                    <h3 class="h3 fw-semibold mt-3 mb-2">Foreign Address (if applicable)</h3>
                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtForeignCountry">Foreign Country</label>
                                <input type="text" id="txtForeignCountry" class="form-control form-control-solid"
                                    placeholder="Country">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtForeignProvince">Foreign Province</label>
                                <input type="text" id="txtForeignProvince" class="form-control form-control-solid"
                                    placeholder="Province/State">
                            </div>
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <div class="d-flex flex-column mb-8 fv-row">
                                <label class="fs-6 fw-semibold mb-2" for="txtForeignPostalCode">Foreign Postal
                                    Code</label>
                                <input type="text" id="txtForeignPostalCode" class="form-control form-control-solid"
                                    placeholder="Postal Code">
                            </div>
                        </div>
                    </div>

                    <h3 class="h6 fw-semibold mt-3 mb-2">Presidential Election Fund</h3>
                    <div class="row">
                        <div class="col-12 col-sm-6">
                            <div class="form-check d-flex align-items-center gap-2 mb-3">
                                <input type="checkbox" id="chkPresidentialYou" class="form-check-input mt-0">
                                <label for="chkPresidentialYou" class="form-check-label mb-0 small">
                                    You â€“ Contribute $3 to the Presidential Election Campaign Fund
                                </label>
                            </div>
                        </div>
                        <div class="col-12 col-sm-6">
                            <div class="form-check d-flex align-items-center gap-2 mb-3">
                                <input type="checkbox" id="chkPresidentialSpouse" class="form-check-input mt-0">
                                <label for="chkPresidentialSpouse" class="form-check-label mb-0 small">
                                    Spouse â€“ Contribute $3 to the Presidential Election Campaign Fund
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <!--end::Details-->

            </div>
        </div>

        <!-- Filing Status -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="filingStatus" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center border-bottom mb-4">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Filing Status</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Select your filing status for this tax year.
                        </p>
                    </div>

                    <div class="row">
                        <!--begin::Input group-->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="ddlFilingStatus" class="fs-6 fw-semibold mb-2">Filing Status</label>
                            <div class="fv-row">
                                <select name="currnecy" aria-label="Select a Currency" data-control="select2"
                                    data-placeholder="Select a currency.." class="form-select form-select-solid ">

                                    <option value="Single">
                                        Single
                                    </option>
                                    <option value="married_filing_jointly">
                                        Married Filing Jointly
                                    </option>
                                    <option value="married_filing_separately">
                                        Married Filing Separately
                                    </option>
                                    <option value="qualifying_surviving_spouse">
                                        Qualifying Surviving Spouse
                                    </option>

                                </select>
                            </div>
                        </div>
                        <!--end::Input group-->

                        <div class="col-12 col-sm-6 col-md-4">
                            <div id="pnlMfsSpouseName" class="d-flex flex-column mb-8 fv-row"
                                style="display: none !important;">
                                <label for="txtMfsSpouseName" class="fs-6 fw-semibold mb-2">Spouse's Name</label>
                                <input type="text" id="txtMfsSpouseName" class="form-control form-control-solid"
                                    placeholder="Jane Doe">
                            </div>
                        </div>

                        <div class="col-12 col-sm-6 col-md-4">
                            <div id="pnlHohOrQssChildName" class="d-flex flex-column mb-8 fv-row"
                                style="display: none !important;">
                                <label for="txtHohOrQssChildName" class="fs-6 fw-semibold mb-2">Child's Name</label>
                                <input type="text" id="txtHohOrQssChildName" class="form-control form-control-solid"
                                    placeholder="Child's full name">
                            </div>
                        </div>
                    </div>

                    <!-- Checkbox Section -->
                    <div class="row" id="SpecialConditions" style="display: none !important;">
                        <div class="col-12 col-sm-6">
                            <div class="form-check d-flex align-items-center gap-2 mb-3">
                                <input type="checkbox" id="chkNonresidentAlienSpouse" class="form-check-input mt-0">
                                <label for="chkNonresidentAlienSpouse" class="form-check-label mb-0 small">
                                    Spouse is a nonresident alien treated as a resident
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 col-sm-6 col-md-4">
                            <div id="pnlNonresidentAlienSpouseName" class="d-flex flex-column mb-8 fv-row"
                                style="display: none !important;">
                                <label for="txtNonresidentAlienSpouseName" class="fs-6 fw-semibold mb-2">Spouse's
                                    Name</label>
                                <input type="text" id="txtNonresidentAlienSpouseName"
                                    class="form-control form-control-solid" placeholder="Jane Doe">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Digital Assets -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="digitalAssets" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-2 border-bottom mb-2">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Digital Assets</p>
                        <p class="text-gray-500 text-hover-primary mb-4">Answer questions about digital asset
                            transactions.</p>
                    </div>

                    <!-- Question Box -->
                    <div class="row">
                        <div class="col-12">
                            <div class="p-4 rounded border border-dashed bg-light mb-4">
                                <h3 class="h6 fw-semibold text-primary mb-3">
                                    Did you receive, sell, exchange, or otherwise dispose of any digital asset in 2023?
                                </h3>
                                <div class="form-check d-flex align-items-center gap-2">
                                    <input type="checkbox" id="chkDigitalAssets" class="form-check-input mt-0">
                                    <label class="form-check-label mb-0 small" for="chkDigitalAssets">Yes</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Info Text -->
                    <p class="text-muted">
                        A digital asset is a digital representation of value that is recorded on a cryptographically
                        secured distributed ledger. Common digital assets include:
                    </p>
                    <ul class="list-disc ps-5 text-muted">
                        <li>Convertible virtual currency and cryptocurrency</li>
                        <li>Stablecoins</li>
                        <li>Non-fungible tokens (NFTs)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Standard Deduction -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="standardDeductionFlags" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center border-bottom mb-4">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Standard Deduction</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Check all that apply to you or your spouse.</p>
                    </div>

                    <!-- Checkboxes -->
                    <div class="row">
                        <!-- For You -->
                        <div class="col-12 col-md-6 mb-4">
                            <h3 class="h6 fw-semibold mb-3">For You</h3>
                            <div class="form-check d-flex align-items-center gap-2 mb-2">
                                <input type="checkbox" id="chkClaimedAsDependent" class="form-check-input mt-0">
                                <label for="chkClaimedAsDependent" class="form-check-label mb-0 small">You as a
                                    dependent</label>
                            </div>
                            <div class="form-check d-flex align-items-center gap-2 mb-2">
                                <input type="checkbox" id="chkYouBlind" class="form-check-input mt-0">
                                <label for="chkYouBlind" class="form-check-label mb-0 small">Are Blind</label>
                            </div>
                            <div class="form-check d-flex align-items-center gap-2">
                                <input type="checkbox" id="chkYouSenior" class="form-check-input mt-0">
                                <label for="chkYouSenior" class="form-check-label mb-0 small">
                                    Senior (Were born before January 2, 1960)
                                </label>
                            </div>
                        </div>

                        <!-- For Spouse -->
                        <div class="col-12 col-md-6 mb-4">
                            <h3 class="h6 fw-semibold mb-3">For Spouse</h3>
                            <div class="form-check d-flex align-items-center gap-2 mb-2">
                                <input type="checkbox" id="chkSpouseClaimedAsDependent" class="form-check-input mt-0">
                                <label for="chkSpouseClaimedAsDependent" class="form-check-label mb-0 small">
                                    Your spouse as a dependent
                                </label>
                            </div>
                            <div class="form-check d-flex align-items-center gap-2 mb-2">
                                <input type="checkbox" id="chkSpouseBlind" class="form-check-input mt-0">
                                <label for="chkSpouseBlind" class="form-check-label mb-0 small">Is Blind</label>
                            </div>
                            <div class="form-check d-flex align-items-center gap-2 mb-2">
                                <input type="checkbox" id="chkSpouseItemizes" class="form-check-input mt-0">
                                <label for="chkSpouseItemizes" class="form-check-label mb-0 small">
                                    Spouse itemizes on a separate return or you were a dual-status alien
                                </label>
                            </div>
                            <div class="form-check d-flex align-items-center gap-2">
                                <input type="checkbox" id="chkSpouseSenior" class="form-check-input mt-0">
                                <label for="chkSpouseSenior" class="form-check-label mb-0 small">
                                    Senior (Was born before January 2, 1960)
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dependents -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="dependents" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 fs-2 fw-bold mb-0">Dependents</p>
                        <p class="text-gray-500 mb-2">Add information for each dependent you're claiming.</p>
                    </div>

                    <!-- No Dependents Notice -->
                    <div id="pnlNoDependents" class="bg-light p-4 rounded border text-center mb-4">
                        <p class="text-muted mb-0">No dependents added yet</p>
                    </div>

                    <!-- Dependents List -->
                    <div id="dependentsList" class="mb-4"></div>

                    <!-- Add Button -->
                    <button type="button" class="btn btn-primary" onclick="addDependent()">
                        Add Dependent
                    </button>
                </div>
            </div>
        </div>

        <!-- ==========================
                Income Section - Form 1040 (Complete with checkboxes + modal triggers)
        =========================== -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="income" class="form-section">

                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 fs-2 fw-bold me-1 mb-0">Income</p>
                        <p class="text-gray-500 mb-2">
                            Enter all sources of income for the tax year. Click fields that open supporting
                            forms/schedules.
                        </p>
                    </div>

                    <!-- Wages & Compensation (Line 1) -->
                    <div class="p-4 rounded border border-dashed mb-4 ">
                        <h3 class="h6 fw-semibold text-primary mb-3">Wages, Salaries & Tips (Line 1)</h3>



                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <label for="txtW2Wages" class="form-label d-flex align-items-center gap-2">
                                    Total amount from Form(s) W-2
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Sum of Box 1 amounts from all Form(s) W-2. Click to add W-2 details."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 50000"
                                    onclick="window.location.href='1040-Modals/W2-Form.html'">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtHouseholdWages" class="form-label d-flex align-items-center gap-2">
                                    Household Wages
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Wages paid to household employees (if any)"></i>
                                </label>
                                <input type="number" id="txtHouseholdWages" class="form-control form-control-solid"
                                    placeholder="e.g., 10000" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtTips" class="form-label d-flex align-items-center gap-2">
                                    Tips
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Reported tips not included on W-2"></i>
                                </label>
                                <input type="number" id="txtTips" class="form-control form-control-solid"
                                    placeholder="e.g., 250" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtMedicaidWaiver" class="form-label d-flex align-items-center gap-2">
                                    Medicaid Waiver
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="If applicable (state/local benefit)"></i>
                                </label>
                                <input type="number" id="txtMedicaidWaiver" class="form-control form-control-solid"
                                    placeholder="e.g., 0.00" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtDependentCareBenefits"
                                    class="form-label d-flex align-items-center gap-2">
                                    Dependent care benefits (Form 2441)
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Enter total from Form 2441, line 26 or click to open the form."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid"
                                    placeholder="Click to open Form 2441" step="0.01"
                                    onclick="window.location.href='1040-Modals/Form2441.html'">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtAdoptionBenefits" class="form-label d-flex align-items-center gap-2">
                                    Employer-provided adoption benefits (Form 8839)
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Total from Form 8839 (if any). Click to open Form 8839."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid"
                                    placeholder="Click to open Form 8839" step="0.01"
                                    onclick="window.location.href='1040-Modals/Form8839.html'">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtForm8919Wages" class="form-label d-flex align-items-center gap-2">
                                    Form 8919 Wages (Uncollected SS)
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Enter uncollected Social Security from Form 8919. Click to open Form 8919."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid"
                                    placeholder="Click to open Form 8919" step="0.01"
                                   onclick="window.location.href='1040-Modals/Form8919.html'">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtOtherEarnedIncome" class="form-label d-flex align-items-center gap-2">
                                    Other earned income
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Other wage-like income not reported on W-2"></i>
                                </label>
                                <input type="number" id="txtOtherEarnedIncome" class="form-control form-control-solid"
                                    placeholder="e.g., 0.00" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtCombatPay" class="form-label d-flex align-items-center gap-2">
                                    Combat Pay
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Enter nontaxable combat pay (if elected to include)"></i>
                                </label>
                                <input type="number" id="txtCombatPay" class="form-control form-control-solid"
                                    placeholder="e.g., 0.00" step="0.01">
                            </div>
                        </div>
                    </div>

                    <!-- Interest & Dividends (Line 2 & 3) -->
                    <div class="p-4 rounded border border-dashed mb-4">
                        <h3 class="h6 fw-semibold mb-3">Interest & Dividends (Lines 2 & 3)</h3>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <label for="txtTaxExemptInterest" class="form-label d-flex align-items-center gap-2">
                                    2a. Tax-exempt interest
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Interest earned that is tax-exempt (municipal bonds, etc.)."></i>
                                </label>
                                <input type="number" id="txtTaxExemptInterest" class="form-control form-control-solid"
                                    placeholder="e.g., 200" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtTaxableInterest" class="form-label d-flex align-items-center gap-2">
                                    2b. Taxable interest
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Taxable interest. Click to open Schedule B if > $1,500 or foreign accounts."></i>
                                </label>
                                <input type="number" id="txtTaxableInterest" class="form-control form-control-solid"
                                    placeholder="e.g., 1500" data-modal-type="ScheduleB" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtQualifiedDividends" class="form-label d-flex align-items-center gap-2">
                                    3a. Qualified dividends
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Qualified dividends that may receive preferential tax rates."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 400"
                                    step="0.01" onclick="loadModal('1040-Modals/ScheduleB.html', '#scheduleBModal')">
                            </div>
                            <div class="col-12 col-sm-6">
                                <label for="txtOrdinaryDividends" class="form-label d-flex align-items-center gap-2">
                                    3b. Ordinary dividends
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Ordinary dividends. Click to open Schedule B if > $1,500 or special cases."></i>
                                </label>
                                <input type="number" id="txtOrdinaryDividends" class="form-control form-control-solid"
                                    placeholder="e.g., 500" data-modal-type="ScheduleB" step="0.01">
                            </div>
                        </div>
                    </div>

                    <!-- IRA Distributions (Line 4) -->
                    <div class="p-4 rounded border border-dashed mb-4 ">
                        <h3 class="h6 fw-semibold mb-3">IRA Distributions (Line 4)</h3>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <label for="txtIraDistributionsTotal"
                                    class="form-label d-flex align-items-center gap-2">
                                    4a. IRA distributions - total
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Total distributions reported on Form 1099-R"></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 5000"
                                    step="0.01" onclick="loadModal('1040-Modals/Form1099R.html', '#Form1099RModal')">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtIraDistributionsTaxable"
                                    class="form-label d-flex align-items-center gap-2">
                                    4b. IRA distributions - taxable amount
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Taxable portion of IRA distributions"></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 4000"
                                    step="0.01" onclick="loadModal('1040-Modals/Form1099R.html', '#Form1099RModal')">
                            </div>
                        </div>
                    </div>

                    <!-- Pensions & Annuities (Line 5) -->
                    <div class="p-4 rounded border border-dashed mb-4">
                        <h3 class="h6 fw-semibold mb-3">Pensions & Annuities (Line 5)</h3>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <label for="txtPensionsAnnuitiesTotal"
                                    class="form-label d-flex align-items-center gap-2">
                                    5a. Pensions/Annuities - total
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Total pension/annuity payments (Form 1099-R)"></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 7000"
                                    step="0.01" onclick="loadModal('1040-Modals/Form1099R.html', '#Form1099RModal')">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtPensionsAnnuitiesTaxable"
                                    class="form-label d-flex align-items-center gap-2">
                                    5b. Pensions/Annuities - taxable amount
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Taxable portion of pensions/annuities"></i>
                                </label>
                                <input type="number" class="form-control form-control-solid" placeholder="e.g., 6000"
                                    step="0.01" onclick="loadModal('1040-Modals/Form1099R.html', '#Form1099RModal')">
                            </div>
                        </div>
                    </div>

                    <!-- Social Security (Line 6) -->
                    <div class="p-4 rounded border border-dashed mb-4 ">
                        <h3 class="h6 fw-semibold mb-3">Social Security Benefits (Line 6)</h3>
                        <div class="row g-3 align-items-center">
                            <div class="col-12 col-sm-6">
                                <label for="txtSocialSecurityTotal" class="form-label d-flex align-items-center gap-2">
                                    6a. Social security benefits - total
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Total Social Security benefits received (SSA statement)"></i>
                                </label>
                                <input type="number" id="txtSocialSecurityTotal" class="form-control form-control-solid"
                                    placeholder="e.g., 12000" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtSocialSecurityTaxable"
                                    class="form-label d-flex align-items-center gap-2">
                                    6b. Social security benefits - taxable
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Taxable portion of Social Security benefits (use worksheet)"></i>
                                </label>
                                <input type="number" id="txtSocialSecurityTaxable"
                                    class="form-control form-control-solid" placeholder="e.g., 8000" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6 d-flex align-items-center gap-2">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="chkLumpSumMethod">
                                    <label class="form-check-label small" for="chkLumpSumMethod">Lump-sum election
                                        method</label>
                                </div>
                                <small class="text-muted ms-2">Use if reporting lump-sum distributions (see
                                    instructions).</small>
                            </div>
                        </div>
                    </div>

                    <!-- Capital Gains (Line 7) -->
                    <div class="p-4 rounded border border-dashed mb-4">
                        <h3 class="h6 fw-semibold text-dark mb-3">Capital Gain or (Loss) (Line 7)</h3>
                        <div class="row g-3 align-items-center">
                            <div class="col-12 col-sm-6 d-flex align-items-center gap-2">
                                <label for="txtCapitalGainOrLoss"
                                    class="form-label mb-0 flex-grow-1 d-flex align-items-center gap-2">
                                    Capital gain or (loss)
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="If required, attach Schedule D. Click to open Schedule D."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid"
                                    placeholder="Click to open Schedule D" step="0.01"
                                    onclick="window.location.href='1040-Modals/ScheduleD.html'">
                            </div>

                            <div class="col-12 col-sm-6 d-flex align-items-center">
                                <div class="form-check me-2">
                                    <input class="form-check-input" type="checkbox" id="chkNoScheduleD">
                                    <label class="form-check-label small" for="chkNoScheduleD">If Schedule D not
                                        required, check
                                        here</label>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Other Income & Schedule 1 (Line 8 & 10 adjustments) -->
                    <div class="p-4 rounded border border-dashed mb-4 ">
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <h3 class="h6 fw-semibold mb-3">Other Income & Adjustments (Schedule 1)</h3>
                                <label for="txtAdditionalIncomeSchedule1"
                                    class="form-label d-flex align-items-center gap-2">
                                    Additional income (Schedule 1)
                                    <i class="bi bi-info-circle-fill text-primary" data-bs-toggle="tooltip"
                                        title="Includes business, rental, farm, unemployment, prizes, etc. Click to open Schedule 1."></i>
                                </label>
                                <input type="number" class="form-control form-control-solid"
                                    placeholder="Click to open Schedule 1" step="0.01"
                                    onclick="window.location.href='1040-Modals/Schedule1.html'">
                            </div>
                            <div class="col-12 col-sm-6">
                                <h3 class="h6 fw-semibold mb-3">Total Income (Line 9)</h3>


                                <label for="txtTotalIncome" class="form-label">Total income</label>
                                <input type="number" id="txtTotalIncome" class="form-control form-control-solid"
                                    placeholder="Auto-calculated" readonly step="0.01">


                            </div>


                        </div>
                    </div>


                    <!-- Adjustments, AGI, Deductions, Taxable Income (Static Fields) -->
                    <div class="p-4 rounded border border-dashed mb-4">
                        <h3 class="h6 fw-semibold mb-3">Adjustments & Taxable Income</h3>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6">
                                <label for="txtAdjustmentsSchedule1" class="form-label">
                                    10. Adjustments to income (Schedule 1, line 26)
                                </label>
                                <input type="number" id="txtAdjustmentsSchedule1"
                                    class="form-control form-control-solid" placeholder="Enter amount" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtAdjustedGrossIncome" class="form-label">
                                    11. Adjusted Gross Income
                                </label>
                                <input type="number" id="txtAdjustedGrossIncome" class="form-control form-control-solid"
                                    placeholder="Enter amount" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtQualifiedBusinessDeduction" class="form-label">
                                    12. Qualified Business Income Deduction
                                </label>
                                <input type="number" id="txtQualifiedBusinessDeduction"
                                    class="form-control form-control-solid" placeholder="Enter amount" step="0.01">
                            </div>
                            <div class="col-12 col-sm-6">
                                <label for="txtStandardItemizedDeduction" class="form-label">
                                    13. Standard or Itemized Deduction
                                </label>
                                <input type="number" id="txtStandardItemizedDeduction"
                                    class="form-control form-control-solid" placeholder="Enter amount" step="0.01">
                            </div>


                            <div class="col-12 col-sm-6">
                                <label for="txtTotalDeductions" class="form-label">
                                    14. Total Deductions
                                </label>
                                <input type="number" id="txtTotalDeductions" class="form-control form-control-solid"
                                    placeholder="Enter amount" step="0.01">
                            </div>

                            <div class="col-12 col-sm-6">
                                <label for="txtTaxableIncome" class="form-label">
                                    15. Taxable Income
                                </label>
                                <input type="number" id="txtTaxableIncome" class="form-control form-control-solid"
                                    placeholder="Enter amount" step="0.01">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ==========================
                Single Dynamic Modal
        =========================== -->
        <div class="modal fade" id="dynamicModal" tabindex="-1" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title"></h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                    </div>
                    <div class="modal-body">
                        <!-- Long content here will scroll -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-success">Save</button>
                    </div>
                </div>
            </div>
        </div>



        <!-- Tax and Credits -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="taxAndCredits" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">
                            Tax and Credits
                        </p>
                        <p class="text-gray-500 text-hover-primary mb-2">
                            Enter your tax and credit information for the tax year.
                        </p>
                    </div>

                    <!-- Tax & Credit Inputs -->
                    <div class="row g-3">
                        <!-- Line 16 -->
                        <div class="col-12">
                            <label for="line16Tax" class="form-label fw-bold">
                                Tax (see instructions)
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 16</small>

                            <div class="d-flex flex-wrap gap-3 mb-2 align-items-center">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="chk8814" />
                                    <label class="form-check-label" for="chk8814">Form 8814</label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="chk4972" />
                                    <label class="form-check-label" for="chk4972">Form 4972</label>
                                </div>
                                <div class="form-check d-flex align-items-center">
                                    <input class="form-check-input me-2" type="checkbox" id="chkOtherForm" />
                                    <label class="form-check-label me-2" for="chkOtherForm">Other</label>
                                    <input type="text" class="form-control form-control-sm"
                                        placeholder="Specify form" />
                                </div>
                            </div>
                            <input type="number" id="line16Tax" class="form-control form-control-solid"
                                placeholder="e.g., 4500" />
                        </div>

                        <!-- Line 17 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line17" class="form-label">
                                Additional Taxes (from Schedule 2)
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 17</small>
                            <input type="number" id="line17" class="form-control form-control-solid"
                                placeholder="e.g., 1200" />
                        </div>

                        <!-- Line 18 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line18" class="form-label">
                                Total Tax Before Credits
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 18 (Add lines 16 & 17)</small>
                            <input type="number" id="line18" class="form-control form-control-solid" readonly />
                        </div>

                        <!-- Line 19 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line19" class="form-label">
                                Child Tax Credit / Credit for Other Dependents
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 19 (Schedule 8812)</small>
                            <input type="number" id="line19" class="form-control form-control-solid"
                                placeholder="e.g., 2000" />
                        </div>

                        <!-- Line 20 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line20" class="form-label">
                                Other Nonrefundable Credits (from Schedule 3)
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 20</small>
                            <input type="number" id="line20" class="form-control form-control-solid"
                                placeholder="e.g., 500" />
                        </div>

                        <!-- Line 21 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line21" class="form-label"> Total Credits </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 21 (Add lines 19 & 20)</small>
                            <input type="number" id="line21" class="form-control form-control-solid" readonly />
                        </div>

                        <!-- Line 22 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line22" class="form-label">
                                Tax After Credits
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 22 (Line 18 â€“ Line 21)</small>
                            <input type="number" id="line22" class="form-control form-control-solid" readonly />
                        </div>

                        <!-- Line 23 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line23" class="form-label">
                                Other Taxes (including self-employment tax)
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 23 (Schedule 2, line 21)</small>
                            <input type="number" id="line23" class="form-control form-control-solid"
                                placeholder="e.g., 300" />
                        </div>

                        <!-- Line 24 -->
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="line24" class="form-label fw-bold">
                                Total Tax
                            </label>
                            <small class="text-muted d-block">IRS Form 1040 â€“ Line 24 (Add lines 22 & 23)</small>
                            <input type="number" id="line24" class="form-control form-control-solid" readonly />
                        </div>
                    </div>
                </div>
            </div>
        </div>



        <!-- Payments -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="payments" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Payments</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Enter all tax payments made during the year.
                        </p>
                    </div>

                    <!-- Payment Inputs -->
                    <div class="row g-3">
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtFederalIncomeTaxWithheldfromW2" class="form-label">Federal income tax
                                withheld from
                                W-2</label>
                            <input type="number" id="txtFederalIncomeTaxWithheldfromW2"
                                class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtFederalIncomeTaxWithheldfrom1099" class="form-label">Federal income tax
                                withheld from
                                1099</label>
                            <input type="number" id="txtFederalIncomeTaxWithheldfrom1099"
                                class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtotherforms" class="form-label">Other forms (see instructions)</label>
                            <input type="number" id="txtotherforms" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtfederalincometax" class="form-label">Total federal income tax
                                withheld</label>
                            <input type="number" id="txtfederalincometax" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtEstTaxPay" class="form-label">2024 estimated tax payments and amount applied
                                from
                                2023 return</label>
                            <input type="number" id="txtEstTaxPay" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtEarnedIncomeCredx" class="form-label">Earned income credit (EIC)</label>
                            <input type="number" id="txtEarnedIncomeCredx" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtChildTaxCred" class="form-label">Additional child tax credit (Schedule
                                8812)</label>
                            <input type="number" id="txtChildTaxCred" class="form-control form-control-solid"
                                placeholder="Click to open Schedule8812"
                                onclick="window.location.href='1040-Modals/Schedule8812.html'">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtUSACred" class="form-label">American opportunity credit (Form 8863)</label>
                            <input type="number" id="txtUSACred" class="form-control form-control-solid"
                                placeholder="Click to open Form8863"
                                onclick="window.location.href='1040-Modals/Form8863.html'">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtAmtSched" class="form-label">Amount from Schedule 3</label>
                            <input type="number" id="txtAmtSched" class="form-control form-control-solid"
                                placeholder="Click to open Schedule 3"
                                 onclick="window.location.href='1040-Modals/Schedule3.html'">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtTotalOtherPay" class="form-label">Total Other Payments</label>
                            <input type="number" id="txtTotalOtherPay" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtTotalPayments" class="form-label">Total Payments</label>
                            <input type="number" id="txtTotalPayments" class="form-control form-control-solid">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Refund -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="refund" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Refund</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Enter refund details if applicable.</p>
                    </div>

                    <!-- Refund Inputs -->
                    <div class="row g-3">
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtAmountOverpaid" class="form-label">Amount Overpaid</label>
                            <input type="number" id="txtAmountOverpaid" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtAmountRefundToYou" class="form-label">Refund Amount</label>
                            <input type="number" id="txtAmountRefundToYou" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtAmountAppliedNextYear" class="form-label">Applied to Next Yearâ€™s Estimated
                                Tax</label>
                            <input type="number" id="txtAmountAppliedNextYear" class="form-control form-control-solid">
                        </div>
                    </div>

                    <!-- Direct Deposit Checkbox -->
                    <div class="form-check my-3">
                        <input type="checkbox" id="chkDirectDepositRefund" class="form-check-input">
                        <label for="chkDirectDepositRefund" class="form-check-label ms-2">Direct Deposit Refund</label>
                    </div>

                    <!-- Direct Deposit Info -->
                    <div id="pnlDirectDeposit" class="p-3 rounded">
                        <h5 class="mb-3 text-primary">Direct Deposit Information</h5>
                        <div class="row g-3">
                            <div class="col-12 col-sm-6 col-md-4">
                                <label for="txtRoutingNumber" class="form-label">Routing Number</label>
                                <input type="text" id="txtRoutingNumber" class="form-control form-control-solid">
                            </div>
                            <div class="col-12 col-sm-6 col-md-4">
                                <label for="txtAccountNumber" class="form-label">Account Number</label>
                                <input type="text" id="txtAccountNumber" class="form-control form-control-solid">
                            </div>

                            <!--begin::Input group-->
                            <div class="col-12 col-sm-6 col-md-4">
                                <label for="ddlFilingStatus" class="fs-6 fw-semibold mb-2">Account Type</label>
                                <div class="fv-row">
                                    <select name="currnecy" aria-label="Select a Currency" data-control="select2"
                                        data-placeholder="Select a account type.."
                                        class="form-select form-select-solid ">

                                        <option value="checking">Checking
                                        </option>
                                        <option value="savings">Savings
                                        </option>
                                    </select>
                                </div>
                            </div>
                            <!--end::Input group-->
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Amount Owed -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="amtOwed" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Amount Owed</p>
                        <p class="text-gray-500 text-hover-primary mb-2">Enter any amount you owe or penalties.</p>
                    </div>

                    <!-- Amount Owed Inputs -->
                    <div class="row g-3">
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtAmtOwe" class="form-label">Amount You Owe</label>
                            <input type="number" id="txtAmtOwe" class="form-control form-control-solid">
                        </div>
                        <div class="col-12 col-sm-6 col-md-4">
                            <label for="txtEstTax" class="form-label">Estimated Tax Penalty</label>
                            <input type="number" id="txtEstTax" class="form-control form-control-solid">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Third Party Designee -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="thirdPartyDesignee" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Third Party Designee</p>
                        <p class="text-gray-500 text-hover-primary mb-2">
                            Authorize another person to discuss this return with the IRS.
                        </p>
                    </div>

                    <!-- Checkbox -->
                    <div class="form-check mb-4">
                        <input type="checkbox" id="chkReturnwithIRS" class="form-check-input">
                        <label for="chkReturnwithIRS" class="form-check-label ms-2">
                            Do you want to allow another person to discuss this return with the IRS?
                        </label>
                    </div>

                    <!-- Designee Details -->
                    <div id="pnlAllowPerson" class="p-3 rounded border">
                        <h5 class="mb-3 text-primary">Designee Information</h5>
                        <div class="row g-3">
                            <div class="col-12 col-md-4">
                                <label for="txtDesName" class="form-label">Designee Name</label>
                                <input type="text" id="txtDesName" class="form-control form-control-solid"
                                    placeholder="Enter full name">
                            </div>
                            <div class="col-12 col-md-4">
                                <label for="txtMobile" class="form-label">Phone Number</label>
                                <input type="tel" id="txtMobile" class="form-control form-control-solid"
                                    placeholder="e.g. 123-456-7890">
                            </div>
                            <div class="col-12 col-md-4">
                                <label for="txtPIN" class="form-label">Personal Identification Number (PIN)</label>
                                <input type="number" id="txtPIN" class="form-control form-control-solid"
                                    placeholder="4-digit PIN">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Signature -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="signature" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Signature</p>
                        <p class="text-gray-500 text-hover-primary mb-2">
                            Sign and provide contact information for your tax return.
                        </p>
                    </div>

                    <!-- Taxpayer Section -->
                    <div class="p-3 rounded border mb-4">
                        <h5 class="mb-3 text-primary">Taxpayer</h5>
                        <div class="row g-3">
                            <div class="col-12 col-md-6">
                                <label for="txtSignature" class="form-label">Signature</label>
                                <input type="text" id="txtSignature" class="form-control form-control-solid"
                                    placeholder="Enter your signature">
                            </div>
                            <div class="col-12 col-md-6">
                                <label class="required fs-6 fw-semibold mb-2">Date</label>
                                <div class="position-relative d-flex align-items-center">
                                    <!--<i class="ki-outline ki-calendar-8 fs-2 position-absolute mx-4"></i>-->
                                    <input class="form-control form-control-solid" type="date"
                                        placeholder="Select a Date" name="" />
                                </div>
                            </div>
                            <div class="col-12 col-md-6">
                                <label for="txtOccupation" class="form-label">Occupation</label>
                                <input type="text" id="txtOccupation" class="form-control form-control-solid"
                                    placeholder="Businessman">
                            </div>
                            <div class="col-12 col-md-6">
                                <label for="txtIPPIN" class="form-label">Identity Protection PIN (IP PIN)</label>
                                <input type="number" id="txtIPPIN" class="form-control form-control-solid"
                                    placeholder="123456">
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="p-3 rounded border">
                        <h5 class="mb-3 text-primary">Contact Information</h5>
                        <div class="row g-3">
                            <div class="col-12 col-md-6">
                                <label for="txtDaytimePhone" class="form-label">Daytime Phone</label>
                                <input type="tel" id="txtDaytimePhone" class="form-control form-control-solid"
                                    placeholder="555-987-6543">
                            </div>
                            <div class="col-12 col-md-6">
                                <label for="txtEmailAddress" class="form-label">Email Address</label>
                                <input type="email" id="txtEmailAddress" class="form-control form-control-solid"
                                    placeholder="john.doe@example.com">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Paid Preparer -->
        <div class="card mb-5 mb-xxl-8">
            <div class="card-body">
                <div id="paidPreparer" class="form-section">
                    <!-- Title -->
                    <div class="align-items-center mb-4 border-bottom">
                        <p class="text-gray-900 text-hover-primary fs-2 fw-bold me-1 mb-0">Paid Preparer</p>
                        <p class="text-gray-500 text-hover-primary mb-2">
                            Complete this section only if someone other than the taxpayer prepared this return.
                        </p>
                    </div>

                    <!-- Preparer Info -->
                    <div class="row g-3">
                        <div class="col-12 col-md-6">
                            <label for="txtPreparerName" class="form-label">Preparer's Name</label>
                            <input type="text" id="txtPreparerName" class="form-control form-control-solid"
                                placeholder="Enter preparer's name">
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtPreparerSign" class="form-label">Preparer's Signature</label>
                            <input type="text" id="txtPreparerSign" class="form-control form-control-solid"
                                placeholder="Signature">
                        </div>
                        <div class="col-12 col-md-6">

                            <label class="required fs-6 fw-semibold mb-2">Date</label>
                            <div class="position-relative d-flex align-items-center">
                                <!--<i class="ki-outline ki-calendar-8 fs-2 position-absolute mx-4"></i>-->
                                <input class="form-control form-control-solid" type="date" placeholder="Select a Date"
                                    name="date" />
                            </div>
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtPTIN" class="form-label">PTIN</label>
                            <input type="number" id="txtPTIN" class="form-control form-control-solid"
                                placeholder="123456789">
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtFirmsName" class="form-label">Firm's Name</label>
                            <input type="text" id="txtFirmsName" class="form-control form-control-solid"
                                placeholder="Firm name">
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtFirmPhone" class="form-label">Firm's Phone Number</label>
                            <input type="tel" id="txtFirmPhone" class="form-control form-control-solid"
                                placeholder="555-123-4567">
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtFirmAdds" class="form-label">Firm's Address</label>
                            <input type="text" id="txtFirmAdds" class="form-control form-control-solid"
                                placeholder="123 Main St, City, State">
                        </div>
                        <div class="col-12 col-md-6">
                            <label for="txtFirmEIN" class="form-label">Firm's EIN</label>
                            <input type="text" id="txtFirmEIN" class="form-control form-control-solid"
                                placeholder="12-3456789">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="form-section p-4 bg-light rounded-3 shadow-sm">
            <div class="d-flex justify-content-between align-items-center mb-3 flex-wrap gap-2">
                <button id="btnReset" class="btn btn-danger btn-lg shadow-sm">
                    Reset Form
                </button>
                <button id="btnNextOrSubmit" class="btn btn-primary btn-lg shadow-sm">
                    Next
                </button>
            </div>
            <p id="lblMessage" class="text-success fw-medium mt-2" style="font-size: 0.95rem;"></p>
        </div>


        <!--test-->

    </div>
    </div>

    <div id="modals-container"></div>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!--begin::Javascript Theme-->
    <script>var hostUrl = "assets/";</script>
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <script src="assets/plugins/custom/fullcalendar/fullcalendar.bundle.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/radar.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/map.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/continentsLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/usaLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldTimeZonesLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/5/geodata/worldTimeZoneAreasLow.js"></script>
    <script>var hostUrl = "assets/";</script>
    <script src="assets/plugins/global/plugins.bundle.js"></script>
    <script src="assets/js/scripts.bundle.js"></script>
    <!--end::Javascript Theme-->








    <script>
        // ===========================
        // Load modal by file (AJAX include, e.g. ScheduleC.html)
        // ===========================
        function loadModal(file, modalSelector) {
            const parentModalEl = document.querySelector('.modal.show');
            const parentId = parentModalEl
                ? (parentModalEl.id || (parentModalEl.id = 'modal-auto-' + Date.now()))
                : null;

            $("#modals-container").load(file, function (response, status, xhr) {
                if (status === "error") {
                    console.error("Error loading file:", xhr.status, xhr.statusText);
                    return;
                }

                const modalEl = document.querySelector(modalSelector);
                if (!modalEl) {
                    console.error("Modal selector not found after load:", modalSelector);
                    return;
                }

                // remember parent on child modal
                if (parentId) modalEl.setAttribute("data-parent-modal-id", parentId);

                // hide parent so child opens cleanly
                if (parentId) {
                    const parentInstance =
                        bootstrap.Modal.getInstance(parentModalEl) ||
                        bootstrap.Modal.getOrCreateInstance(parentModalEl);
                    parentInstance.hide();
                }

                // show child
                const childInstance = bootstrap.Modal.getOrCreateInstance(modalEl);
                childInstance.show();

                // when child closes, reopen parent
                modalEl.addEventListener("hidden.bs.modal", function onHidden() {
                    const pid = modalEl.getAttribute("data-parent-modal-id");
                    if (pid) {
                        const parentEl = document.getElementById(pid);
                        if (parentEl) {
                            bootstrap.Modal.getOrCreateInstance(parentEl).show();
                        }
                    }
                    modalEl.removeEventListener("hidden.bs.modal", onHidden);
                });
            });
        }

        // ===========================
        // Dynamic Modal Script for Form 1040
        // ===========================
        document.addEventListener("DOMContentLoaded", function () {
            // Filing status toggle
            function updateFilingStatusFields() {
                let status = document.querySelector("select[name='currnecy']")?.value;
                let isNonresidentSpouse = document.getElementById("chkNonresidentAlienSpouse")?.checked;

                // Hide all conditional panels by default
                ["#pnlMfsSpouseName", "#pnlHohOrQssChildName", "#pnlNonresidentAlienSpouseName"].forEach(sel =>
                    document.querySelector(sel)?.classList.add("d-none")
                );

                if (status === "married_filing_separately") {
                    document.querySelector("#pnlMfsSpouseName")?.classList.remove("d-none");
                }
                if (status === "head_of_household" || status === "qualifying_surviving_spouse") {
                    document.querySelector("#pnlHohOrQssChildName")?.classList.remove("d-none");
                }
                if (isNonresidentSpouse) {
                    document.querySelector("#pnlNonresidentAlienSpouseName")?.classList.remove("d-none");
                }
            }
            updateFilingStatusFields();
            document.querySelector("select[name='currnecy']")?.addEventListener("change", updateFilingStatusFields);
            document.getElementById("chkNonresidentAlienSpouse")?.addEventListener("change", updateFilingStatusFields);

            // Tooltips
            document.querySelectorAll("[data-bs-toggle='tooltip']").forEach(el => {
                new bootstrap.Tooltip(el);
            });

            let modalCount = 0;

            // Open dynamic modal from templates
            function openDynamicModal(formType) {
                if (!formTemplates[formType]) {
                    console.warn(`Form template not found: ${formType}`);
                    return;
                }

                modalCount++;
                const modalId = "modal-" + formType + "-" + Date.now();

                const modalWrapper = document.createElement("div");
                modalWrapper.classList.add("modal", "fade");
                modalWrapper.id = modalId;
                modalWrapper.tabIndex = -1;
                modalWrapper.innerHTML = `
                <div class="modal-dialog modal-xl">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">${formType.replace(/([A-Z])/g, " $1").trim()}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                        </div>
                        <div class="modal-body">
                            ${formTemplates[formType]}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-light" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-success">Save</button>
                        </div>
                    </div>
                </div>`;

                // detect visible parent
                const currentParent = document.querySelector(".modal.show");
                let parentId = null;
                if (currentParent) {
                    parentId = currentParent.id || "modal-auto-" + Date.now();
                    currentParent.id = parentId;
                }

                document.body.appendChild(modalWrapper);

                if (parentId) {
                    modalWrapper.setAttribute("data-parent-modal-id", parentId);
                    const parentInstance =
                        bootstrap.Modal.getInstance(currentParent) ||
                        bootstrap.Modal.getOrCreateInstance(currentParent);
                    parentInstance.hide();
                }

                const bsModal = new bootstrap.Modal(modalWrapper, { backdrop: true, keyboard: true });
                bsModal.show();

                modalWrapper.addEventListener("shown.bs.modal", function () {
                    const zIndex = 1050 + modalCount * 20;
                    modalWrapper.style.zIndex = zIndex;
                    const backdrop = document.querySelector(".modal-backdrop:last-of-type");
                    if (backdrop) backdrop.style.zIndex = zIndex - 10;
                });

                modalWrapper.addEventListener("hidden.bs.modal", function () {
                    modalCount--;
                    const pid = modalWrapper.getAttribute("data-parent-modal-id");
                    if (pid) {
                        const parentEl = document.getElementById(pid);
                        if (parentEl) {
                            bootstrap.Modal.getOrCreateInstance(parentEl).show();
                        }
                    }
                    modalWrapper.remove();
                });

                // enable nested modals inside this modal
                modalWrapper.querySelectorAll("[data-modal-type]").forEach(nestedEl => {
                    nestedEl.addEventListener("click", e => {
                        e.preventDefault();
                        openDynamicModal(nestedEl.getAttribute("data-modal-type"));
                    });
                });
            }

            // Attach global trigger
            document.querySelectorAll("[data-modal-type]").forEach(el => {
                el.addEventListener("click", () => openDynamicModal(el.getAttribute("data-modal-type")));
            });
        });

        // ===========================
        // W-2 Form handling
        // ===========================
        let w2Count = 0;
        function createW2Form(index) {
            return `
        <div class="border p-3 rounded mb-3 w2-form">
            <h4 class="h6 fw-semibold mb-3">W-2 Form <span class="form-number">${index + 1}</span></h4>
            <div class="row g-2">
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Employer EIN</label>
                    <input type="text" class="form-control" name="employerEIN_${index}" placeholder="123456789">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Employer Name</label>
                    <input type="text" class="form-control" name="employerName_${index}">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Control Number</label>
                    <input type="text" class="form-control" name="controlNum_${index}">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Wages Amount</label>
                    <input type="number" class="form-control" name="wages_${index}">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Federal Tax Withheld</label>
                    <input type="number" class="form-control" name="federalTax_${index}">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Social Security Tax</label>
                    <input type="number" class="form-control" name="ssTax_${index}">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Medicare Tax</label>
                    <input type="number" class="form-control" name="medTax_${index}">
                </div>
            </div>
            <button type="button" class="btn btn-danger mt-2 remove-w2">Remove</button>
        </div>`;
        }
        function addW2Form() {
            document.getElementById("w2FormContainer").insertAdjacentHTML("beforeend", createW2Form(w2Count));
            w2Count++;
            renumberForms();
        }
        function renumberForms() {
            document.querySelectorAll(".w2-form").forEach((form, idx) => {
                form.querySelector(".form-number").innerText = idx + 1;
            });
        }
        document.addEventListener("DOMContentLoaded", () => addW2Form());
        document.getElementById("addW2").addEventListener("click", addW2Form);
        document.getElementById("w2FormContainer").addEventListener("click", e => {
            if (e.target.classList.contains("remove-w2")) {
                e.target.closest(".w2-form").remove();
                renumberForms();
            }
        });
        document.getElementById("saveW2").addEventListener("click", () => {
            const forms = document.querySelectorAll(".w2-form");
            const summary = document.getElementById("w2Summary");
            summary.innerHTML = "";
            if (forms.length === 0) {
                summary.innerHTML = `<p class="text-muted mb-0">No W-2 forms added yet</p>`;
                return;
            }
            forms.forEach((form, idx) => {
                const employerEIN = form.querySelector(`[name^="employerEIN"]`).value || "-";
                const employerName = form.querySelector(`[name^="employerName"]`).value || "-";
                const wages = form.querySelector(`[name^="wages"]`).value || "0";
                const federalTax = form.querySelector(`[name^="federalTax"]`).value || "0";
                const controlNum = form.querySelector(`[name^="controlNum"]`).value || "0";
                const ssTax = form.querySelector(`[name^="ssTax"]`).value || "0";
                const medTax = form.querySelector(`[name^="medTax"]`).value || "0";
                summary.insertAdjacentHTML("beforeend", `
                <div class="border rounded p-2 mb-2">
                    <strong>W-2 Form ${idx + 1}</strong><br>
                    Employer: ${employerName} (EIN: ${employerEIN})<br>
                    Wages: $${wages}<br>
                    Federal Tax Withheld: $${federalTax}<br>
                    Control Number: ${controlNum}<br>
                    Social Security Tax: $${ssTax}<br>
                    Medicare Tax: $${medTax}
                </div>
            `);
            });
        });

        // Dependents
        function addDependent() {
            const dependentsList = document.getElementById("dependentsList");
            const row = document.createElement("div");
            row.classList.add("dependent-entry", "border", "rounded", "p-3", "mb-3");
            row.innerHTML = `
            <div class="row g-3">
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">First Name</label>
                    <input type="text" class="form-control" name="firstName[]">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Last Name</label>
                    <input type="text" class="form-control" name="lastName[]">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Social Security Number</label>
                    <input type="text" class="form-control" name="ssn[]">
                </div>
                <div class="col-12 col-md-6 col-lg-3">
                    <label class="form-label">Relationship</label>
                    <input type="text" class="form-control" name="relationship[]">
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" name="childTaxCredit[]">
                        <label class="form-check-label">Child Tax Credit</label>
                    </div>
                </div>
                <div class="col-12 col-md-6">
                    <div class="form-check">
                        <input type="checkbox" class="form-check-input" name="otherDependent[]">
                        <label class="form-check-label">Other Dependent Credit</label>
                    </div>
                </div>
                <div class="col-12 text-end">
                    <button type="button" class="btn btn-danger btn-sm" onclick="removeDependent(this)">Remove</button>
                </div>
            </div>`;
            dependentsList.appendChild(row);
        }
        function removeDependent(button) {
            button.closest(".dependent-entry").remove();
        }

    </script>


</body>

</html>